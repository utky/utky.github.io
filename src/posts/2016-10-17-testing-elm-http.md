------------------
title: [WIP]ElmのHttp処理部をスタブする
date: 2016-10-17
tags: [elm]
------------------

## 問題

Elmでアプリケーション書いていると当然リモートのHTTP APIへリクエストを飛ばす部分がでてくる。
けれどチュートリアルの章を読むと`Http`パッケージへhard wireしてある。このポリシーに従ってそのまま実装していくと、
`elm-reactor`で動かした際に、APIのエンドポイントに本当にリクエストを飛ばしてしまう。

APIの実装がまだない場合や、テストでダミーのJSONを渡したい場合はこれだと困る。

## 解法

なにか大仰なモックライブラリが必要か、とか悩んでしまったけど、
簡単な話だった。

**高階関数**を使えばいいんだ。

### 制御フローのおさらい

簡単のため最初の画面ロード時に`hello`という文字列を外部から取り出して印字するケースを考える。

## 雑感

論旨とずれるけれど、Elmは少ないbuilding blocksと関数型プログラミングだけで本当にだいたいのことができてしまう。
MonadやFunctorなどの概念は一切出てこない（これは[evancのポリシー](https://groups.google.com/forum/m/#!topic/elm-discuss/1acyOfxvasA)だと思う)
